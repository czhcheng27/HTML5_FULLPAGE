<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* css reset */
        html,
        body {
            height: 100%;
            /* overflow: hidden; */
        }

        html,
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        ul,
        li {
            margin: 0px;
            padding: 0px;
            font: 14px "Ubuntu";
        }

        a {
            text-decoration: none;
            display: block;
        }

        li {
            list-style: none;
        }

        img {
            display: block;
        }

        /* common css */
        .clearfix {
            *zoom: 1;
        }

        .clearfix::after {
            content: "";
            clear: both;
            display: block;
        }

        /* Head */
        #head {
            background: white;
        }

        #head .headMain {
            width: 1100px;
            height: 80px;
            margin: 0 auto;
            position: relative;
        }

        #head .headMain>.logo {
            float: left;
            margin-top: 30px;
        }

        #head .headMain>.nav {
            float: right;
            margin-top: 50px;
        }

        #head .headMain>.nav>.list>li {
            float: left;
            margin-left: 40px;
            position: relative;
        }

        #head .headMain>.nav>.list>li .up {
            color: black;
            position: absolute;
            width: 0;
            overflow: hidden;
            transition: 1s width;
        }

        #head .headMain>.nav>.list>li :hover .up {
            width: 100%;
        }

        #head .headMain>.arrow {
            width: 21px;
            height: 11px;
            z-index: 999;
            background: url(imgs/menuIndicator.png);
            position: absolute;
            bottom: -11px;
            transition: 0.8s
        }

        #content {
            background: grey;
            overflow: hidden;
            position: relative;
            width: 100%;
        }

        #content .list {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            transition: 1s;
        }

        #content .list>li {
            position: relative;
            background-position: 50% 50% !important;
        }

        #content .list>.home {
            background: url(imgs/bg1.jpg);
        }

        #content .list>.course {
            background: url(imgs/bg2.jpg);
        }

        #content .list>.works {
            background: url(imgs/bg3.jpg);
        }

        #content .list>.about {
            background: url(imgs/bg4.jpg);
        }

        #content .list>.team {
            background: url(imgs/bg5.jpg);
        }

        #content .list>li>div {
            width: 1100px;
            height: 520px;
            margin: auto;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            position: absolute;
            background: pink;
        }
    </style>
</head>

<body>
    <section id="wrap">
        <header id="head">
            <div class="headMain">
                <h1 class="logo">
                    <a href="javascript:;">
                        <img src="imgs/logo.png" />
                </h1>
                <nav class="nav">
                    <ul class="list clearfix">
                        <li>
                            <a href="javascript:;">
                                <div class="up"><img src="imgs/home_gruen.png" /></div>
                                <div class="down"><img src="imgs/home.png" /></div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <div class="up">Course</div>
                                <div class="down">Course</div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <div class="up">Works</div>
                                <div class="down">Works</div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <div class="up">About</div>
                                <div class="down">About</div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <div class="up">Team</div>
                                <div class="down">Team</div>
                            </a>
                        </li>
                    </ul>
                </nav>
                <div class="arrow"></div>
            </div>
        </header>
        <section id="content">
            <ul class="list">
                <li class="home">
                    <div>Home</div>
                </li>
                <li class="course">
                    <div>Course</div>
                </li>
                <li class="works">
                    <div>Works</div>
                </li>
                <li class="about">
                    <div>About</div>
                </li>
                <li class="team">
                    <div>Team</div>
                </li>
            </ul>
        </section>
    </section>
</body>

<script>
    window.onload = function () {
        var arrowEl = document.querySelector('.arrow')
        var liNodes = document.querySelectorAll('#head .headMain> .nav > .list > li')
        var upNodes = document.querySelectorAll('#head .headMain> .nav > .list > li .up')
        var firstUpNode = document.querySelector('.up')
        var firstNode = liNodes[0]
        var head = document.querySelector('#head')
        var content = document.querySelector('#content')
        var cListNodes = document.querySelectorAll('#content .list>li')
        var cList = document.querySelector('#content .list')
        var now = 0
        var timer = 0

        window.onresize = function () {
            contentBind()
            cList.style.top = - now * (document.documentElement.clientHeight - head.offsetHeight) + 'px'
        }

        //head section
        headBind()
        function headBind() {
            firstUpNode.style.width = '100%'
            // console.log('firstNode', firstNode.offsetLeft);
            arrowEl.style.left = firstNode.offsetLeft + firstNode.offsetWidth / 2 - arrowEl.offsetWidth / 2 + 'px'

            for (let i = 0; i < liNodes.length; i++) {
                liNodes[i].onclick = function () {
                    move(i)
                    now = i
                }
            }
        }

        function move(i) {
            for (let j = 0; j < upNodes.length; j++) {
                upNodes[j].style.width = ''
            }
            upNodes[i].style.width = '100%'
            arrowEl.style.left = liNodes[i].offsetLeft + liNodes[i].offsetWidth / 2 - arrowEl.offsetWidth / 2 + 'px'
            cList.style.top = - i * (document.documentElement.clientHeight - head.offsetHeight) + 'px'
        }


        //content section

        if (content.addEventListener) {
            content.addEventListener("DOMMouseScroll", function (ev) {
                ev = ev || event
                clearTimeout(timer)
                timer = setTimeout(function (){
                    fn(ev)
                }, 200)
            })
        }
        content.onmousewheel = function (ev) {
                ev = ev || event
                clearTimeout(timer)
                timer = setTimeout(function (){
                    fn(ev)
                }, 200)
            }

        function fn(ev) {
            ev = ev || event

            let dir = ''
            if (ev.wheelDelta) {
                dir = ev.wheelDelta > 0 ? 'up' : 'down'
            } else if (ev.detail) {
                dir = ev.wheelDelta < 0 ? 'up' : 'down'
            }

            switch (dir) {
                case 'up':
                    if (now > 0) {
                        now--
                        move(now)
                    }
                    break;
                case 'down':
                    if (now < cListNodes.length - 1) {
                        now++
                        move(now)
                    }
                    break;
            }
        }

        contentBind()
        function contentBind() {
            content.style.height = document.documentElement.clientHeight - head.offsetHeight + 'px'
            for (let i = 0; i < cListNodes.length; i++) {
                console.log('s', cListNodes[i].style.height);
                cListNodes[i].style.height = document.documentElement.clientHeight - head.offsetHeight + 'px'
            }
        }

    }
</script>

</html>