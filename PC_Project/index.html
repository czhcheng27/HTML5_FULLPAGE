<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* css reset */
        html,
        body {
            height: 100%;
            /* overflow: hidden; */
        }

        html,
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        ul,
        li {
            margin: 0px;
            padding: 0px;
            font: 14px "Ubuntu";
        }

        a {
            text-decoration: none;
            display: block;
        }

        li {
            list-style: none;
        }

        img {
            display: block;
        }

        /* common css */
        .clearfix {
            *zoom: 1;
        }

        .clearfix::after {
            content: "";
            clear: both;
            display: block;
        }

        .commonTitle {
            color: #009ee0;
            font-size: 80px;
            line-height: 0.8;
            font-weight: bold;
            letter-spacing: -1px;
        }

        .commonText {
            color: white;
            line-height: 1.5;
        }

        /* Head */
        #head {
            background: white;
        }

        #head .headMain {
            width: 1100px;
            height: 80px;
            margin: 0 auto;
            position: relative;
        }

        #head .headMain>.logo {
            float: left;
            margin-top: 30px;
        }

        #head .headMain>.nav {
            float: right;
            margin-top: 50px;
        }

        #head .headMain>.nav>.list>li {
            float: left;
            margin-left: 40px;
            position: relative;
        }

        #head .headMain>.nav>.list>li .up {
            color: black;
            position: absolute;
            width: 0;
            overflow: hidden;
            transition: 1s width;
        }

        #head .headMain>.nav>.list>li :hover .up {
            width: 100%;
        }

        #head .headMain>.arrow {
            width: 21px;
            height: 11px;
            z-index: 999;
            background: url(imgs/menuIndicator.png);
            position: absolute;
            bottom: -11px;
            transition: 0.8s
        }

        #content {
            background: grey;
            overflow: hidden;
            position: relative;
            width: 100%;
        }

        #content>.list {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            transition: 1s;
        }

        #content>.list>li {
            position: relative;
            background-position: 50% 50% !important;
        }

        #content>.list>.home {
            background: url(imgs/bg1.jpg);
        }

        #content>.list>.course {
            background: url(imgs/bg2.jpg);
        }

        #content>.list>.works {
            background: url(imgs/bg3.jpg);
        }

        .works1 {
            margin: 50px 0px 100px 50px;
        }

        .works2 {
            margin-left: 50px;
        }

        .works2>.item {
            position: relative;
            overflow: hidden;
            float: left;
            width: 220px;
            height: 133px;
            margin: 0 3px
        }

        .works2 .mask {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            box-sizing: border-box;
            padding: 10px;
            background: black;
            opacity: 0;
            color: white;
            transition: 0.5s opacity;
        }

        .works2 .mask:hover {
            opacity: 0.8;
        }

        .works2>.item:hover img {
            transform: rotate(30deg) scale(1.5);
        }

        .works2>.item img {
            transition: 0.5s transform;
        }

        .works2>.item:last-of-type {
            width: 332px;
        }

        .works3 {
            width: 167px;
            height: 191px;
            background: url(imgs/robot.png) no-repeat;
            left: 900px;
            top: 170px;
            position: absolute;
            animation: works3Move 5s linear infinite;
        }

        @keyframes works3Move {
            49% {
                transform: translateX(-490px) rotateY(0);
            }

            50% {
                transform: translateX(-500px) rotateY(180deg);
            }

            99% {
                transform: translateX(-10px) rotateY(180deg);
            }

            100% {
                transform: translateX(-0) rotateY(0);
            }
        }

        #content>.list>.about {
            background: url(imgs/bg4.jpg);
        }

        #content>.list>.team {
            background: url(imgs/bg5.jpg);
        }

        #content .list>li>section {
            width: 1100px;
            height: 520px;
            margin: auto;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            position: absolute;
        }

        /* 2nd screen */
        #content>.list>.course{background: url(imgs/bg2.jpg);}

        #content>.list>.course .course1{margin: 50px;}
        #content>.list>.course .course2{margin-left: 50px; width: 400px;}
        #content>.list>.course .course3{
            position: absolute;
            width: 480px;
            right: 50px;
            top: 70px;
        }
        #content>.list>.course .course3 .item{
            float: left;
            width: 120px;
            height: 132px;
            position: relative;
            perspective: 500px;
            transform-style: preserve-3d;
            }

        #content>.list>.course .course3 .item .face,#content>.list>.course .course3 .item .backFace
        { position: absolute; top: 0;left: 0; width: 100%; height: 100%; box-sizing: border-box; padding: 15px;}

        #content>.list>.course .course3 .item .face{transition: 1s transform;}

        .backFace{transform: rotateY(180deg); backface-visibility: hidden; transition: 1s transform; background: #009ee0;}

        #content>.list>.course .course3 .item:hover .backFace{transform: rotateY(360deg);}

        #content>.list>.course .course3 .item:hover .face{transform: rotateY(180deg);}

        #content>.list>.course .course3 .item:nth-of-type(1) .face{background: url(imgs/bks.png) no-repeat;background-position: 50% 50%;}
        #content>.list>.course .course3 .item:nth-of-type(2) .face{background: url(imgs/gu.png) no-repeat;background-position: 50% 50%;}
        #content>.list>.course .course3 .item:nth-of-type(3) .face{background: url(imgs/binoli.png) no-repeat; background-position: 50% 50%; }
        #content>.list>.course .course3 .item:nth-of-type(4) .face{background: url(imgs/hlx.png) no-repeat; background-position: 50% 50%; }
        #content>.list>.course .course3 .item:nth-of-type(5) .face{background: url(imgs/leonberg.png) no-repeat;background-position: 50% 50%;}
        #content>.list>.course .course3 .item:nth-of-type(6) .face{background: url(imgs/pcwelt.png) no-repeat; background-position: 50% 50%; }
        #content>.list>.course .course3 .item:nth-of-type(7) .face{background: url(imgs/tata.png) no-repeat; background-position: 50% 50%; }
        #content>.list>.course .course3 .item:nth-of-type(8) .face{background: url(imgs/bks.png) no-repeat; background-position: 50% 50%; }
        #content>.list>.course .course3 .item:nth-of-type(9) .face{background: url(imgs/gu.png) no-repeat; background-position: 50% 50%; }
        #content>.list>.course .course3 .item:nth-of-type(10) .face{background: url(imgs/binoli.png) no-repeat; background-position: 50% 50%; }
        #content>.list>.course .course3 .item:nth-of-type(11) .face{background: url(imgs/leonberg.png) no-repeat; background-position: 50% 50%; }
        #content>.list>.course .course3 .item:nth-of-type(12) .face{background: url(imgs/tata.png) no-repeat; background-position: 50% 50%; }

        /* First Sreen */
        #content>.list>.home .home1{width: 100%; height: 100%; perspective: 1000px; transform-style: preserve-3d;}
        #content>.list>.home .home1 > li {width: 100%; height: 100%; position: absolute; display: table; visibility: hidden;}
        #content>.list>.home .home1 > li.active{visibility: visible;}

        #content>.list>.home .home1>li:nth-of-type(1){background-color: #dc6c5f;}
        #content>.list>.home .home1>li:nth-of-type(2){background-color: #95dc84;}
        #content>.list>.home .home1>li:nth-of-type(3){background-color: #64b9d2;}
        #content>.list>.home .home1>li:nth-of-type(4){background-color: #000000;}
        #content>.list>.home .home1>li>div{color: white; text-align: center; display: table-cell; vertical-align: middle;}

        #content>.list>.home .home2{position: absolute; left: 0; right: 0; bottom: 0; text-align: center;}
        #content>.list>.home .home2>li{border-radius: 50%; width: 20px; height: 20px; background: rgba(255, 255, 255, 0.5); display: inline-block; box-shadow: rgba(25, 25, 25, 0.8); cursor: pointer;}
        #content>.list>.home .home2>li.active{background: white; cursor: default;}

        /* from left to right, leftHide rightShow */
        #content>.list>.home .home1 > li.leftHide{visibility: hidden; animation: leftHide 2s 1 linear;}
        #content>.list>.home .home1 > li.rightShow{visibility: visible; animation: rightShow 2s 1 linear;}
        @keyframes leftHide{
            0%{visibility: visible;}
            50%{transform: translateX(-40%) rotateY(30deg) scale(0.8);}
            100%{transform: translateZ(-200px);}
        }

        @keyframes rightShow{
            0%{visibility: hidden;transform: translateZ(-200px);}
            50%{transform: translateX(40%) rotateY(-30deg) scale(0.8);}
            100%{}
        }

        /* from right to left, leftShow rightHide */
        #content>.list>.home .home1 > li.leftShow{visibility: visible; animation: leftShow 2s 1 linear;}
        #content>.list>.home .home1 > li.rightHide{visibility: hidden; animation: rightHide 2s 1 linear;}
        @keyframes leftShow{
            0%{visibility: hidden; transform: translateZ(-200px);}
            50%{transform: translateX(-40%) rotateY(30deg) scale(0.8);}
            100%{}
        }

        @keyframes rightHide{
            0%{visibility: visible;}
            50%{transform: translateX(40%) rotateY(-30deg) scale(0.8);}
            100%{transform: translateZ(-200px);}
        }


        /* Fourth Screen */
        #content > .list > .about {background: url(imgs/bg3.jpg);}
        .about1 {margin: 50px 0 100px 50px;}
        .about2 {margin-left: 50px; width: 400px;}
        .about3 > .item {width: 260px;height: 200px;border: 5px solid rgba(255, 255, 255, 0.5);border-radius: 8px;position: absolute; overflow: hidden;}
        .about3 > .item:nth-child(1){left:750px; top: 50px}
        .about3 > .item:nth-child(2){left:600px; top: 290px}
        .about3 > .item > span{position: absolute; top: 0; left: 0; right: 0; bottom: 0;}
        .about3 > .item > ul{position: absolute; top: 0; left: 0; right: 0; bottom: 0;}
        .about3 > .item:nth-child(1) > span {background: url(imgs/about2.jpg) no-repeat; transform: scale(1.5); transition: 1s transform;}
        .about3 > .item:nth-child(2) > span {background: url(imgs/about4.jpg) no-repeat; transform: scale(1.5); transition: 1s transform;}
        .about3 > .item:hover span {transform: scale(1);}
        .about3 > .item > ul > li {float: left; position: relative; overflow: hidden;}
        .about3 > .item > ul > li > img {position: absolute; transition: 1s left, 1s top;}
    </style>
</head>

<body>
    <section id="wrap">
        <header id="head">
            <div class="headMain">
                <h1 class="logo">
                    <a href="javascript:;">
                        <img src="imgs/logo.png" />
                </h1>
                <nav class="nav">
                    <ul class="list clearfix">
                        <li>
                            <a href="javascript:;">
                                <div class="up"><img src="imgs/home_gruen.png" /></div>
                                <div class="down"><img src="imgs/home.png" /></div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <div class="up">Course</div>
                                <div class="down">Course</div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <div class="up">Works</div>
                                <div class="down">Works</div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <div class="up">About</div>
                                <div class="down">About</div>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <div class="up">Team</div>
                                <div class="down">Team</div>
                            </a>
                        </li>
                    </ul>
                </nav>
                <div class="arrow"></div>
            </div>
        </header>
        <section id="content">
            <ul class="list">
                <li class="home">
                    <section>
                        <ul class="home1">
                            <li class="commonTitle active">
                                <div>First Layer</div>
                            </li>
                            <li class="commonTitle">
                                <div>Second Layer</div>
                            </li>
                            <li class="commonTitle">
                                <div>Third Layer</div>
                            </li>
                            <li class="commonTitle">
                                <div>Fouth Layer</div>
                            </li>
                        </ul>

                        <ul class="home2">
                            <li class="active"></li>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </section>
                </li>
                <li class="course">
                    <section>
                        <header class="course1 commonTitle">
                            <span>EINIGE</span><br />
                            <span>UNSERER</span><br />
                            <span>KUNDEN</span><br />
                        </header>

                        <div class="course2 commonText">
                            <p>
                                Das Kundenvertrauen in unsere Kompetenz ist die notwendige Basis einer
                                erfolgreichen Zusammenarbeit,
                                gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann.
                                <br />
                                Diese und viele weitere große
                                und kleine Kunden vertrauen uns seit Jahren, was uns stolz macht, und dafür sagen wir an
                                dieser Stelle
                                einfach mal.
                            </p>
                        </div>

                        <div class="course3">
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">hhh</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">ssss</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">aaaaa</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">asdf</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">qqqqq</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">wwwwww</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">ffffff</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">sdsf</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">dscsdv</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">jtghjhgj</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">hhhhhh</div>
                            </div>
                            <div class="item">
                                <div class="face"></div>
                                <div class="backFace">ffffffff</div>
                            </div>
                        </div>
                    </section>
                </li>
                <li class="works">
                    <section>

                        <header class="works1 commonTitle">
                            <span>HELLO</span><br />
                            <span>I AM</span><br />
                            <span>ZIHANG CHENG</span><br />
                        </header>

                        <div class="works2">
                            <div class="item">
                                <img src="imgs/worksimg1.jpg" />
                                <div class="mask">
                                    <span>test1</span>
                                    <div class="icon"></div>
                                </div>
                            </div>
                            <div class="item">
                                <img src="imgs/worksimg2.jpg" />
                                <div class="mask">
                                    <span>test2</span>
                                    <div class="icon"></div>
                                </div>
                            </div>
                            <div class="item">
                                <img src="imgs/worksimg3.jpg" />
                                <div class="mask">
                                    <span>test3</span>
                                    <div class="icon"></div>
                                </div>
                            </div>
                            <div class="item">
                                <img src="imgs/worksimg4.jpg" />
                                <div class="mask">
                                    <span>test4</span>
                                    <div class="icon"></div>
                                </div>
                            </div>
                        </div>

                        <div class="works3"></div>

                    </section>
                </li>
                <li class="about">
                    <section>
                        <header class="about1 commonTitle">
                            <span>DIE</span><br/>
                            <span>SPEZIELLE</span><br/>
                            <span>VIELFALT</span><br/>
                        </header>
                        <div class="about2 commonText">
                            <p>Der bunte Medienmix ist die Faszination die uns antreibt und das, was man an uns schätzt. Von A bis Z und
                                von vorne bis hinten nehmen wir Ihr Projekt unter unsere Fittiche und lassen es zu etwas Großartigem
                                heranwachsen.</p>
                        </div>
                        <div class="about3">
                            <div class="item">
                                <span></span>
                                <ul data-src="imgs/about1.jpg"></ul>
                            </div>
                            <div class="item">
                                <span></span>
                                <ul data-src="imgs/about3.jpg"></ul>
                            </div>
                        </div>
                    </section>
                </li>
                <li class="team">
                    <section>Team</section>
                </li>
            </ul>
        </section>
    </section>
</body>

<script>
    window.onload = function () {
        var arrowEl = document.querySelector('.arrow')
        var liNodes = document.querySelectorAll('#head .headMain> .nav > .list > li')
        var upNodes = document.querySelectorAll('#head .headMain> .nav > .list > li .up')
        var firstUpNode = document.querySelector('.up')
        var firstNode = liNodes[0]
        var head = document.querySelector('#head')
        var content = document.querySelector('#content')
        var cListNodes = document.querySelectorAll('#content .list>li')
        var cList = document.querySelector('#content .list')
        var now = 0
        var timer = 0
        var home2LiNodes = document.querySelectorAll('#content>.list>.home .home2>li')
        var home1LiNodes = document.querySelectorAll('#content>.list>.home .home1>li')
        var home1 = document.querySelector('#content>.list>.home .home1')
        var aboutUls = document.querySelectorAll('#content>.list>.about .about3>.item>ul')

        window.onresize = function () {
            contentBind()
            cList.style.top = - now * (document.documentElement.clientHeight - head.offsetHeight) + 'px'
        }

        //head section
        headBind()
        function headBind() {
            firstUpNode.style.width = '100%'
            // console.log('firstNode', firstNode.offsetLeft);
            arrowEl.style.left = firstNode.offsetLeft + firstNode.offsetWidth / 2 - arrowEl.offsetWidth / 2 + 'px'

            for (let i = 0; i < liNodes.length; i++) {
                liNodes[i].onclick = function () {
                    move(i)
                    now = i
                }
            }
        }
        move(3)
        function move(i) {
            for (let j = 0; j < upNodes.length; j++) {
                upNodes[j].style.width = ''
            }
            upNodes[i].style.width = '100%'
            arrowEl.style.left = liNodes[i].offsetLeft + liNodes[i].offsetWidth / 2 - arrowEl.offsetWidth / 2 + 'px'
            cList.style.top = - i * (document.documentElement.clientHeight - head.offsetHeight) + 'px'
        }


        //content section

        if (content.addEventListener) {
            content.addEventListener("DOMMouseScroll", function (ev) {
                ev = ev || event
                clearTimeout(timer)
                timer = setTimeout(function () {
                    fn(ev)
                }, 200)
            })
        }
        content.onmousewheel = function (ev) {
            ev = ev || event
            clearTimeout(timer)
            timer = setTimeout(function () {
                fn(ev)
            }, 200)
        }

        function fn(ev) {
            ev = ev || event

            let dir = ''
            if (ev.wheelDelta) {
                dir = ev.wheelDelta > 0 ? 'up' : 'down'
            } else if (ev.detail) {
                dir = ev.detail < 0 ? 'up' : 'down'
            }

            switch (dir) {
                case 'up':
                    if (now > 0) {
                        now--
                        move(now)
                    }
                    break;
                case 'down':
                    if (now < cListNodes.length - 1) {
                        now++
                        move(now)
                    }
                    break;
            }
        }

        contentBind()
        function contentBind() {
            content.style.height = document.documentElement.clientHeight - head.offsetHeight + 'px'
            for (let i = 0; i < cListNodes.length; i++) {
                console.log('s', cListNodes[i].style.height);
                cListNodes[i].style.height = document.documentElement.clientHeight - head.offsetHeight + 'px'
            }
        }

        /* first screen */
        var oldIndex = 0
        var autoIndex = 0
        var timer3D = 0
        home3D()
        function home3D(){
            //manually
            for(var i = 0; i < home2LiNodes.length; i++){
                home2LiNodes[i].index = i
                home2LiNodes[i].onclick = function (){

                    clearInterval(timer3D)

                    for(var j = 0; j < home2LiNodes.length; j++){
                        home2LiNodes[j].classList.remove('active')
                    }
                    this.classList.add('active')

                    //from left to right, current index bigger than previous one, rightShow
                    if(this.index > oldIndex){
                        home1LiNodes[this.index].classList.remove('leftShow')
                        home1LiNodes[this.index].classList.remove('leftHide')
                        home1LiNodes[this.index].classList.remove('rightHide')
                        home1LiNodes[this.index].classList.add('rightShow')

                        home1LiNodes[oldIndex].classList.remove('leftShow')
                        home1LiNodes[oldIndex].classList.remove('rightHide')
                        home1LiNodes[oldIndex].classList.remove('rightShow')
                        home1LiNodes[oldIndex].classList.add('leftHide')
                    } else {// from right to left, current index smaller than previous one
                        home1LiNodes[this.index].classList.remove('rightShow')
                        home1LiNodes[this.index].classList.remove('leftHide')
                        home1LiNodes[this.index].classList.remove('rightHide')
                        home1LiNodes[this.index].classList.add('leftShow')

                        home1LiNodes[oldIndex].classList.remove('leftShow')
                        home1LiNodes[oldIndex].classList.remove('leftHide')
                        home1LiNodes[oldIndex].classList.remove('rightShow')
                        home1LiNodes[oldIndex].classList.add('rightHide')
                    }
                    //manual carousel -> auto carousel
                    autoIndex = this.index

                    oldIndex = this.index

                    autoMove()
                }
            }

            autoMove()
            function autoMove(){
                clearInterval(timer3D)
                timer3D = setInterval(() => {

                    autoIndex++

                    if(autoIndex == home1LiNodes.length){
                        autoIndex = 0
                    }
                    //Synchronize nav point
                    for(var i = 0; i < home2LiNodes.length; i++){
                        home2LiNodes[i].classList.remove('active')
                    }
                    home2LiNodes[autoIndex].classList.add('active')

                    home1LiNodes[autoIndex].classList.remove('leftShow')
                    home1LiNodes[autoIndex].classList.remove('leftHide')
                    home1LiNodes[autoIndex].classList.remove('rightHide')
                    home1LiNodes[autoIndex].classList.add('rightShow')

                    home1LiNodes[oldIndex].classList.remove('leftShow')
                    home1LiNodes[oldIndex].classList.remove('rightHide')
                    home1LiNodes[oldIndex].classList.remove('rightShow')
                    home1LiNodes[oldIndex].classList.add('leftHide')
                    //auto carousel -> manual carousel
                    oldIndex = autoIndex
                }, 3000);
            }

            home1.onmouseenter = function (){
                clearInterval(timer3D)
            }
            home1.onmouseleave = function (){
                autoMove()
            }
        }


        /* Fouth Screen */
        picBoom()
        function picBoom(){
            for(var i = 0; i < aboutUls.length; i++){
                change(aboutUls[i])
            }

            function change(UL){
                var src = UL.dataset.src
                var w = UL.offsetWidth/2
                var h = UL.offsetHeight/2
                for(var i = 0; i < 4; i++){
                    var liNode = document.createElement("li")
                    var imgNode = document.createElement("img")
                    liNode.style.width = w + 'px'
                    liNode.style.height = h + 'px'

                    /* 
                    1. left: 0; top: 0
                    2. left: -w; top: 0
                    3. left: 0; top: -h
                    4. left: -w; top: -h
                    */

                    imgNode.style.left = -(i%2)*w + 'px'
                    imgNode.style.top = - Math.floor(i/2)*h +'px'

                    imgNode.src = src

                    liNode.appendChild(imgNode)
                    UL.appendChild(liNode)
                }

                UL.onmouseenter = function (){
                        /* 
                        1. left: 0; top: h
                        2. left: -2w; top: 0
                        3. left: w; top: -h
                        4. left: -w; top: -2h
                        */
                        var imgNodes = this.querySelectorAll('li>img')

                        imgNodes[0].style.top = h + 'px'
                        imgNodes[1].style.left = -2*w + 'px'
                        imgNodes[2].style.left = w + 'px'
                        imgNodes[3].style.top = -2*h + 'px' 
                    }

                    UL.onmouseleave = function (){
                        var imgNodes = this.querySelectorAll('li>img')

                        imgNodes[0].style.top = 0 + 'px'
                        imgNodes[1].style.left = -w + 'px'
                        imgNodes[2].style.left = 0 + 'px'
                        imgNodes[3].style.top = -h + 'px' 
                    }
            }
        }
    }
</script>

</html>